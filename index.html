<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seven Chakra Bracelet - Evashu Crystals (Redesigned)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- GSAP CDN - Required for the card animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
</head>
<body>

    <header class="main-header">
        <div class="container header-content">
            <div class="logo">
                <a href="#"><img src="src\fitsize-full-logo_300x300.png" alt="Evashu Crystals Logo" class="logo-img"></a>
            </div>
            <nav class="main-nav">
                <ul class="nav-links">
                    <li><a href="#">Shop All</a></li>
                    <li><a href="#">Bracelets</a></li>
                    <li><a href="#">Collections</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
                <div class="nav-icons">
                    <a href="#" aria-label="Search"><i class="fas fa-search"></i></a>
                    <a href="#" aria-label="Cart"><i class="fas fa-shopping-cart"></i></a>
                </div>
            </nav>
            <button class="hamburger-menu" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- New Dropping Card HTML Structure -->
    <div class="animated-promo-card-outer-wrapper">
        <div class="animated-promo-card">
            <!-- New inner div for content to handle counter-rotation -->
            <div class="animated-promo-card-content">
                <p>Trusted by Millions ðŸ”¥</p>
            </div>
        </div>
    </div>
    <!-- End New Dropping Card HTML Structure -->

    <main class="product-page">
        <div class="container">
            <nav class="breadcrumbs" aria-label="breadcrumb">
                <ol>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Bracelets</a></li>
                    <li>Seven Chakra Bracelet with Black Obsidian</li>
                </ol>
            </nav>

            <div class="product-grid">
                <div class="product-image-gallery">
                    <div class="main-image-wrapper">
                        <img src="src\2_a5566128-8f65-4b39-8b47-37277d12c0a3_1024x1024@2x.png" alt="Seven Chakra Bracelet with Black Obsidian - Front View" class="main-product-image" id="main-product-image-zoom" loading="lazy">
                    </div>
                    <div class="thumbnail-images">
                        <img src="src\2_a5566128-8f65-4b39-8b47-37277d12c0a3_1024x1024@2x.png" alt="Bracelet Thumbnail 1 - Front View" class="thumbnail active" loading="lazy">
                        <img src="src\7bracwithobsiBENIF_74260ba2-a07f-4a79-bb20-6eee8c31ac00_1024x1024@2x.jpg" alt="Bracelet Thumbnail 2 - Benefits View" class="thumbnail" loading="lazy">
                        <img src="src/related3.png" alt="Bracelet Thumbnail 3 - Description View" class="thumbnail" loading="lazy">
                        <img src="src\7bracwithobsiTHUMB_629e6237-b992-4bed-a075-4464745aa913_1024x1024@2x.jpg" alt="Bracelet Thumbnail 4 - Hand Model" class="thumbnail" loading="lazy">
                    </div>
                </div>

                <div class="product-details">
                    <h1 class="product-title scroll-reveal">Seven Chakra Bracelet with Black Obsidian</h1>
                    <div class="product-reviews scroll-reveal">
                        <span class="stars" aria-label="4.4 out of 5 stars">
                            <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star-half-alt" aria-hidden="true"></i>
                        </span>
                        <span class="review-count">(165 Reviews)</span>
                    </div>
                    <div class="product-price-container scroll-reveal">
                        <p class="original-price">â‚¹<span id="original-price-value">2,599</span>.00</p>
                        <p class="product-price">â‚¹<span id="actual-price-value">1,299</span>.00</p>
                    </div>

                    <div class="sale-countdown-wrapper scroll-reveal">
                        <div class="sale-countdown">
                            <span class="countdown-label">Sale Ends In:</span>
                            <div class="countdown-timer">
                                <span id="countdown-minutes">00</span>:<span id="countdown-seconds">00</span>
                            </div>
                        </div>
                        <p class="sales-info">ðŸ”¥ <span id="products-sold">325</span>+ sold this week!</p>
                    </div>

                    <p class="product-description scroll-reveal">
                        Align your chakras and stay protected with this powerful Seven Chakra Bracelet, featuring genuine Black Obsidian beads.
                    </p>
                    <ul class="product-benefits scroll-reveal">
                        <li><i class="fas fa-check-circle" aria-hidden="true"></i> Enhances energy flow</li>
                        <li><i class="fas fa-check-circle" aria-hidden="true"></i> Promotes grounding and positivity</li>
                        <li><i class="fas fa-check-circle" aria-hidden="true"></i> Supports spiritual healing</li>
                        <li><i class="fas fa-check-circle" aria-hidden="true"></i> Handcrafted with natural stones</li>
                    </ul>

                    <div class="quantity-selector scroll-reveal">
                        <button class="quantity-btn" id="decrease-quantity" aria-label="Decrease quantity">-</button>
                        <input type="number" class="quantity-input" id="item-quantity" value="1" min="1" max="10" aria-label="Product quantity">
                        <button class="quantity-btn" id="increase-quantity" aria-label="Increase quantity">+</button>
                    </div>

                    <div class="product-actions scroll-reveal" id="product-actions-section">
                        <button class="btn btn-add-to-cart">Add to Cart</button>
                        <button class="btn btn-buy-now" id="main-buy-now-btn">Buy Now</button>
                    </div>

                    <div class="trust-badges scroll-reveal">
                        <div class="badge">
                            <i class="fas fa-shield-alt" aria-hidden="true"></i>
                            <span>Secure Payments</span>
                        </div>
                        <div class="badge">
                            <i class="fas fa-gem" aria-hidden="true"></i>
                            <span>Genuine Products</span>
                        </div>
                        <div class="badge">
                            <i class="fas fa-truck-moving" aria-hidden="true"></i>
                            <span>Fast Shipping</span>
                        </div>
                    </div>

                    <div class="product-meta-features scroll-reveal">
                        <p><i class="fas fa-truck" aria-hidden="true"></i> Cash on Delivery Available</p>
                        <p><i class="fas fa-sync-alt" aria-hidden="true"></i> Easy 7-Day Returns & Exchange</p>
                        <p><i class="fas fa-shipping-fast" aria-hidden="true"></i> Free Shipping on all orders</p>
                    </div>

                    <div class="social-share-buttons scroll-reveal">
                        <span class="share-label">Share:</span>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=YOUR_PRODUCT_URL" target="_blank" aria-label="Share on Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://twitter.com/intent/tweet?url=YOUR_PRODUCT_URL&text=Check out this amazing Seven Chakra Bracelet!" target="_blank" aria-label="Share on Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="https://wa.me/?text=Check out this amazing Seven Chakra Bracelet! YOUR_PRODUCT_URL" target="_blank" aria-label="Share on WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="mailto:?subject=Seven Chakra Bracelet&body=Check out this amazing Seven Chakra Bracelet! YOUR_PRODUCT_URL" aria-label="Share via Email"><i class="fas fa-envelope"></i></a>
                    </div>


                    <div class="product-additional-info scroll-reveal">
                        <h3>About this Bracelet:</h3>
                        <p>This beautiful bracelet combines the balancing properties of the seven chakra stones with the powerful protective energies of Black Obsidian. Each stone is carefully selected to support your energy centers, promoting harmony and well-being.</p>
                        <h3>Stone Properties:</h3>
                        <ul>
                            <li><b>Red Jasper:</b> Root Chakra - Grounding, stability.</li>
                            <li><b>Carnelian:</b> Sacral Chakra - Creativity, passion.</li>
                            <li><b>Yellow Aventurine:</b> Solar Plexis Chakra - Confidence, personal power.</li>
                            <li><b>Green Aventurine:</b> Heart Chakra - Love, compassion.</li>
                            <li><b>Sodalite:</b> Throat Chakra - Communication, self-expression.</li>
                            <li><b>Amethyst:</b> Third Eye Chakra - Intuition, clarity.</li>
                            <li><b>Clear Quartz:</b> Crown Chakra - Spiritual connection, wisdom.</li>
                            <li><b>Black Obsidian:</b> Protection, cleansing negative energy.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <section class="related-products-section container scroll-reveal">
            <h2>You might also like...</h2>
            <div class="related-products-grid">
                <div class="related-product-card">
                    <a href="#">
                        <img src="src\related1.png" alt="Amethyst Cluster" loading="lazy">
                        <h3>Amethyst Cluster</h3>
                        <p class="related-product-price">â‚¹1,850.00</p>
                        <button class="btn btn-small btn-add-to-cart">Add to Cart</button>
                    </a>
                </div>
                <div class="related-product-card">
                    <a href="#">
                        <img src="src\related2.png" alt="Rose Quartz Pendant" loading="lazy">
                        <h3>Rose Quartz Pendant</h3>
                        <p class="related-product-price">â‚¹799.00</p>
                        <button class="btn btn-small btn-add-to-cart">Add to Cart</button>
                    </a>
                </div>
                <div class="related-product-card">
                    <a href="#">
                        <img src="src\related3.png" alt="Tiger's Eye Bracelet" loading="lazy">
                        <h3>Tiger's Eye Bracelet</h3>
                        <p class="related-product-price">â‚¹950.00</p>
                        <button class="btn btn-small btn-add-to-cart">Add to Cart</button>
                    </a>
                </div>
                <div class="related-product-card">
                    <a href="#">
                        <img src="src\related4.png" alt="Selenite Tower" loading="lazy">
                        <h3>Selenite Tower</h3>
                        <p class="related-product-price">â‚¹1,100.00</p>
                        <button class="btn btn-small btn-add-to-cart">Add to Cart</button>
                    </a>
                </div>
            </div>
        </section>

        <section class="customer-reviews-section container scroll-reveal">
            <h2>Customer Reviews</h2>
            <div class="review-summary">
                <div class="overall-rating">
                    <span class="rating-number">4.4</span> / 5
                    <div class="stars">
                        <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star-half-alt" aria-hidden="true"></i>
                    </div>
                    <p>Based on 165 reviews</p>
                </div>
                <div class="rating-breakdown">
                    <div class="rating-row">
                        <span>5 <i class="fas fa-star" aria-hidden="true"></i></span>
                        <div class="progress-bar"><div style="width: 70%;"></div></div>
                        <span>115</span>
                    </div>
                    <div class="rating-row">
                        <span>4 <i class="fas fa-star" aria-hidden="true"></i></span>
                        <div class="progress-bar"><div style="width: 15%;"></div></div>
                        <span>25</span>
                    </div>
                    <div class="rating-row">
                        <span>3 <i class="fas fa-star" aria-hidden="true"></i></span>
                        <div class="progress-bar"><div style="width: 8%;"></div></div>
                        <span>13</span>
                    </div>
                    <div class="rating-row">
                        <span>2 <i class="fas fa-star" aria-hidden="true"></i></span>
                        <div class="progress-bar"><div style="width: 5%;"></div></div>
                        <span>8</span>
                    </div>
                    <div class="rating-row">
                        <span>1 <i class="fas fa-star" aria-hidden="true"></i></span>
                        <div class="progress-bar"><div style="width: 2%;"></div></div>
                        <span>4</span>
                    </div>
                </div>
            </div>

            <button class="btn btn-write-review">Write a Review</button>

            <div class="individual-reviews">
                <div class="review-card">
                    <div class="review-header">
                        <span class="reviewer-name">Priya S.</span>
                        <span class="review-stars" aria-label="5 out of 5 stars">
                            <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i>
                        </span>
                    </div>
                    <p class="review-title">Absolutely beautiful and powerful!</p>
                    <p class="review-text">"I felt an immediate sense of calm and balance after wearing this bracelet. The stones are vibrant and the obsidian adds a great protective feel. Highly recommend for anyone looking to align their chakras."</p>
                    <span class="review-date">Reviewed on June 20, 2025</span>
                </div>
                <div class="review-card">
                    <div class="review-header">
                        <span class="reviewer-name">Rahul K.</span>
                        <span class="review-stars" aria-label="4 out of 5 stars">
                            <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i>
                        </span>
                    </div>
                    <p class="review-title">Great quality, quick delivery</p>
                    <p class="review-text">"The bracelet arrived quickly and looks exactly as pictured. The quality of the stones is impressive for the price. I've been wearing it daily and love it."</p>
                    <span class="review-date">Reviewed on June 15, 2025</span>
                </div>
                <div class="review-card">
                    <div class="review-header">
                        <span class="reviewer-name">Anjali V.</span>
                        <span class="review-stars" aria-label="3.5 out of 5 stars">
                            <i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star" aria-hidden="true"></i><i class="fas fa-star-half-alt" aria-hidden="true"></i>
                        </span>
                    </div>
                    <p class="review-title">Good value, subtle energy</p>
                    <p class="review-text">"Beautiful bracelet! The energy is subtle but definitely there. Lost one star because the fit was slightly loose, but overall happy with my purchase."</p>
                    <span class="review-date">Reviewed on June 10, 2025</span>
                </div>
            </div>
        </section>

        <section class="faq-section container scroll-reveal">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-accordion">
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">What are the benefits of the Seven Chakra Bracelet?</button>
                    <div class="faq-answer">
                        <p>The Seven Chakra Bracelet is designed to balance and energize your body's seven main energy centers, promoting physical, emotional, and spiritual well-being. It helps in enhancing positive energy flow, emotional stability, and overall harmony.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">Are the stones real and natural?</button>
                    <div class="faq-answer">
                        <p>Yes, all stones used in our Seven Chakra Bracelet are 100% natural and ethically sourced. We ensure high quality and authenticity for all our crystal products.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">How do I choose the correct size?</button>
                    <div class="faq-answer">
                        <p>Our bracelets are designed to be one-size-fits-most with an adjustable stretch. If you have specific wrist measurements, please refer to our sizing guide on the "About Us" page or contact customer service for assistance.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <button class="faq-question" aria-expanded="false">How do I cleanse and care for my bracelet?</button>
                    <div class="faq-answer">
                        <p>To cleanse your bracelet, you can use methods like moonlight charging, smudging with sage, or placing it on a selenite charging plate. Avoid prolonged exposure to water, harsh chemicals, and extreme temperatures to maintain its integrity.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <div class="sticky-buy-now-mobile" id="sticky-buy-now-mobile">
        <button class="btn btn-buy-now-mobile">Buy Now - â‚¹1,299.00</button>
    </div>

    <footer class="main-footer">
        <div class="container footer-content">
            <div class="footer-column about-us-col">
                <h3>Evashu Crystals</h3>
                <p>Your destination for authentic crystals and spiritual tools. We believe in empowering lives through the healing energy of nature.</p>
                <div class="social-icons">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest-p"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#">Shop All</a></li>
                    <li><a href="#">New Arrivals</a></li>
                    <li><a href="#">Best Sellers</a></li>
                    <li><a href="#">Gift Cards</a></li>
                    <li><a href="#">Blog</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Shipping & Returns</a></li>
                    <li><a href="#">Track Your Order</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-column newsletter-col">
                <h3>Newsletter</h3>
                <p>Sign up for exclusive offers and updates.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Your email address" required aria-label="Email address for newsletter">
                    <button type="submit">Subscribe</button>
                </form>
                <div class="payment-methods">
                    <h4>Payment Methods</h4>
                    <div class="payment-icons">
                        <i class="fab fa-cc-visa" aria-label="Visa"></i>
                        <i class="fab fa-cc-mastercard" aria-label="Mastercard"></i>
                        <i class="fab fa-cc-paypal" aria-label="PayPal"></i>
                        <i class="fab fa-cc-amex" aria-label="American Express"></i>
                        <img src="src\upi.png" alt="UPI Payment" class="payment-icon-img" aria-label="UPI">
                        <img src="src\gpay.png" alt="Google Pay" class="payment-icon-img" aria-label="Google Pay">
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Evashu Crystals. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Basic JS for hamburger menu
            document.querySelector('.hamburger-menu').addEventListener('click', function() {
                document.querySelector('.main-nav').classList.toggle('active');
            });

            // MODIFICATION: Thumbnail animation trigger
            setTimeout(() => {
                document.querySelector('.thumbnail-images').classList.add('loaded');
            }, 1500); // Delay in milliseconds

            // Basic JS for image gallery
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.addEventListener('click', function() {
                    if (!document.querySelector('.thumbnail-images').classList.contains('loaded')) {
                        return; // Prevent clicks during animation
                    }
                    document.querySelector('.main-product-image').src = this.src; 
                    document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Add to Cart button feedback 
            document.querySelector('.btn-add-to-cart').addEventListener('click', function() {
                const button = this;
                if (!button.classList.contains('btn-small')) {
                    button.classList.add('added');
                    button.textContent = 'Added!';

                    setTimeout(() => {
                        button.classList.remove('added');
                        button.textContent = 'Add to Cart';
                    }, 1000); 
                }
            });

            document.querySelectorAll('.related-product-card .btn-add-to-cart').forEach(button => {
                button.addEventListener('click', function(event) {
                    event.preventDefault(); 
                    const originalText = this.textContent;
                    this.textContent = 'Added!';
                    this.style.backgroundColor = 'var(--success-color)';
                    this.style.color = '#fff';

                    setTimeout(() => {
                        this.textContent = originalText;
                        this.style.backgroundColor = 'var(--primary-color)';
                        this.style.color = '#fff';
                    }, 800);
                });
            });


            // Scroll Reveal Logic
            const scrollRevealElements = document.querySelectorAll('.scroll-reveal');
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            scrollRevealElements.forEach(el => {
                observer.observe(el);
            });
            
            // Staggered Animations JS
            const sectionsToStagger = document.querySelectorAll('.product-benefits, .related-products-grid, .individual-reviews');
            sectionsToStagger.forEach(section => {
                const children = section.querySelectorAll('li, .related-product-card, .review-card');
                children.forEach((child, index) => {
                    child.style.transitionDelay = `${index * 100}ms`;
                });
            });


            // Price Counting Animation
            const originalPriceEl = document.getElementById('original-price-value');
            const actualPriceEl = document.getElementById('actual-price-value');
            const originalPriceNum = parseInt(originalPriceEl.textContent.replace(/,/g, ''));
            const actualPriceNum = parseInt(actualPriceEl.textContent.replace(/,/g, ''));
            let currentPrice = originalPriceNum;
            const duration = 1000; 
            const stepTime = 10; 
            const steps = duration / stepTime;
            const stepDecrement = (originalPriceNum - actualPriceNum) / steps;
            let animationFrameId;

            const animatePrice = () => {
                currentPrice -= stepDecrement;
                if (currentPrice <= actualPriceNum) {
                    actualPriceEl.textContent = actualPriceNum.toLocaleString('en-IN');
                    cancelAnimationFrame(animationFrameId);
                    return;
                }
                actualPriceEl.textContent = Math.round(currentPrice).toLocaleString('en-IN');
                animationFrameId = requestAnimationFrame(animatePrice);
            };
            const priceObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        currentPrice = originalPriceNum;
                        actualPriceEl.textContent = originalPriceNum.toLocaleString('en-IN');
                        animatePrice();
                        priceObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 }); 
            priceObserver.observe(document.querySelector('.product-price-container'));


            // Live Sale Countdown Timer
            const countdownMinutesEl = document.getElementById('countdown-minutes');
            const countdownSecondsEl = document.getElementById('countdown-seconds');
            const productsSoldEl = document.getElementById('products-sold');
            const initialDuration = 35 * 60; 
            let timeRemaining = initialDuration;

            function updateCountdown() {
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                countdownMinutesEl.textContent = String(minutes).padStart(2, '0');
                countdownSecondsEl.textContent = String(seconds).padStart(2, '0');
                if (timeRemaining <= 0) {
                    clearInterval(countdownInterval);
                    countdownMinutesEl.textContent = '00';
                    countdownSecondsEl.textContent = '00';
                } else {
                    timeRemaining--;
                }
            }
            const countdownInterval = setInterval(updateCountdown, 1000);
            updateCountdown();

            let productsSold = 325;
            setInterval(() => {
                productsSold += Math.floor(Math.random() * 3);
                productsSoldEl.textContent = productsSold;
            }, 5000);


            // Quantity Selector Logic
            const decreaseBtn = document.getElementById('decrease-quantity');
            const increaseBtn = document.getElementById('increase-quantity');
            const quantityInput = document.getElementById('item-quantity');
            decreaseBtn.addEventListener('click', () => {
                let currentValue = parseInt(quantityInput.value);
                if (currentValue > parseInt(quantityInput.min)) {
                    quantityInput.value = currentValue - 1;
                }
            });
            increaseBtn.addEventListener('click', () => {
                let currentValue = parseInt(quantityInput.value);
                if (currentValue < parseInt(quantityInput.max)) {
                    quantityInput.value = currentValue + 1;
                }
            });
            quantityInput.addEventListener('change', () => {
                let currentValue = parseInt(quantityInput.value);
                const min = parseInt(quantityInput.min);
                const max = parseInt(quantityInput.max);
                if (isNaN(currentValue) || currentValue < min) {
                    quantityInput.value = min;
                } else if (currentValue > max) {
                    quantityInput.value = max;
                }
            });


            // FAQ Accordion Logic
            document.querySelectorAll('.faq-question').forEach(button => {
                button.addEventListener('click', () => {
                    const faqItem = button.parentElement;
                    const isActive = faqItem.classList.toggle('active');
                    button.setAttribute('aria-expanded', isActive);
                    const answer = button.nextElementSibling;
                    if (isActive) {
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                    } else {
                        answer.style.maxHeight = '0';
                    }
                });
            });

            // Sticky Mobile Buy Now Button Logic
            const stickyBtn = document.getElementById('sticky-buy-now-mobile');
            const mainBuyNowSection = document.getElementById('product-actions-section');
            if (!mainBuyNowSection || !stickyBtn) return;
            const mobileBreakpoint = 768; 
            const stickyObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const isMobile = window.innerWidth <= mobileBreakpoint;
                    if (!entry.isIntersecting && isMobile) {
                        stickyBtn.classList.add('show');
                    } else {
                        stickyBtn.classList.remove('show');
                    }
                });
            }, {
                root: null,
                threshold: 0
            });
            stickyObserver.observe(mainBuyNowSection);
            window.addEventListener('resize', () => {
                const isMobile = window.innerWidth <= mobileBreakpoint;
                const rect = mainBuyNowSection.getBoundingClientRect();
                const isPastMainSection = rect.bottom < 0; 
                if (isMobile && isPastMainSection) {
                    stickyBtn.classList.add('show');
                } else {
                    stickyBtn.classList.remove('show');
                }
            });


            // Image Zoom Functionality
            const mainImageWrapper = document.querySelector('.main-image-wrapper');
            const mainImage = document.getElementById('main-product-image-zoom');
            if (mainImageWrapper && mainImage) {
                const zoomLens = document.createElement('div');
                zoomLens.classList.add('zoom-lens');
                mainImageWrapper.appendChild(zoomLens);
                let isMobileZoomActive = false; 
                function enableZoom(e) {
                    const rect = mainImageWrapper.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const imgWidth = mainImage.naturalWidth || mainImage.offsetWidth;
                    const imgHeight = mainImage.naturalHeight || mainImage.offsetHeight;
                    const backgroundX = (x / rect.width) * 100;
                    const backgroundY = (y / rect.height) * 100;
                    zoomLens.style.backgroundImage = `url('${mainImage.src}')`; 
                    zoomLens.style.backgroundSize = `${imgWidth * 2}px ${imgHeight * 2}px`;
                    zoomLens.style.backgroundPosition = `${backgroundX}% ${backgroundY}%`;
                    zoomLens.style.display = 'block';
                }

                function disableZoom() {
                    zoomLens.style.display = 'none';
                    zoomLens.style.backgroundImage = 'none';
                }

                function handleMobileClick() {
                    if (!isMobileZoomActive) {
                        mainImageWrapper.classList.add('tapped-zoom');
                    } else {
                        mainImageWrapper.classList.remove('tapped-zoom');
                    }
                    isMobileZoomActive = !isMobileZoomActive;
                }

                let mobileClickListener; 
                function setupZoomListeners() {
                    mainImageWrapper.removeEventListener('mousemove', enableZoom);
                    mainImageWrapper.removeEventListener('mouseleave', disableZoom);
                    if (mobileClickListener) {
                        mainImageWrapper.removeEventListener('click', mobileClickListener);
                    }
                    mainImageWrapper.classList.remove('tapped-zoom');
                    isMobileZoomActive = false;
                    disableZoom(); 
                    if (window.innerWidth > 768) {
                        mainImageWrapper.addEventListener('mousemove', enableZoom);
                        mainImageWrapper.addEventListener('mouseleave', disableZoom);
                    } else { 
                        mobileClickListener = handleMobileClick;
                        mainImageWrapper.addEventListener('click', mobileClickListener);
                    }
                }
                setupZoomListeners(); 
                window.addEventListener('resize', setupZoomListeners); 
            }

            // Auto-trigger the promo card animation on page load
            const promoOuterWrapper = document.querySelector('.animated-promo-card-outer-wrapper');
            const promoCard = document.querySelector('.animated-promo-card'); // The actual flipping element
            const promoCardContent = document.querySelector('.animated-promo-card-content'); // The element for counter-rotation
            const mainHeader = document.querySelector('.main-header'); // Get the header element

            const promoCardHeight = 40; // The fixed height of the promo card
            const mainContent = document.querySelector('main.product-page'); // The main content to push down

            // Wait for header to render to get its height correctly
            window.addEventListener('load', () => {
                const headerHeight = mainHeader.offsetHeight; // Get actual header height

                // Set outer wrapper to its fixed position right below the header
                gsap.set(promoOuterWrapper, { top: headerHeight, visibility: 'visible' });

                // Set initial states for the card and its content for the flip-down effect
                // Card starts rotated 90 degrees UPWARDS from its top edge (hinge point), so it's hidden.
                gsap.set(promoCard, { rotateX: -90 }); 
                // Content counter-rotates to be upright even when its parent card is angled.
                gsap.set(promoCardContent, { rotateX: 90 }); 

                gsap.timeline({ delay: 0.5 }) // Slight delay after page load
                    .to(promoCard, { // Animate the card to flip into view (90 degrees downwards)
                        rotateX: 0, // Card ends flat (visible)
                        duration: 1.2,
                        ease: "power2.out" // Smooth deceleration
                    })
                    .to(promoCardContent, { // Animate content to its final upright position
                        rotateX: 0, // Content ends flat (upright)
                        duration: 1.2, // Same duration as the card's flip
                        ease: "power2.out" // Smooth deceleration
                    }, "<"); // Start simultaneously with the promoCard animation

                // Adjust main content margin-top once the card is in position
                // This ensures content starts below the header and the new fixed promo card.
                gsap.set(mainContent, { marginTop: headerHeight + promoCardHeight });
            });
        });
    </script>

</body>
</html>
